<div class="page">
  <div class="page__card">
    <div class="page__card__title">Management useri</div>
    <form [formGroup]="adminForm" class="form" *ngIf="dataSource != null">
      <table
        mat-table
        [dataSource]="users"
        class="mat-elevation-z8"
        *ngIf="this.users"
      >
        <!--- Note that these columns can be defined in any order.
            The actual rendered columns are set as a property on the row definition" -->

        <!-- Position Column -->
        <ng-container matColumnDef="position">
          <th mat-header-cell *matHeaderCellDef>Id</th>
          <td mat-cell *matCellDef="let element">{{ element.id }}</td>
        </ng-container>

        <!-- Name Column -->
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef>Email</th>
          <td mat-cell *matCellDef="let element">{{ element.email }}</td>
        </ng-container>

        <!-- Weight Column -->
        <ng-container matColumnDef="weight">
          <th mat-header-cell *matHeaderCellDef>Nume</th>
          <td mat-cell *matCellDef="let element">{{ element.name }}</td>
        </ng-container>

        <!-- Symbol Column -->
        <ng-container matColumnDef="symbol">
          <th mat-header-cell *matHeaderCellDef>Rol</th>
          <td mat-cell *matCellDef="let element">
            <!-- <div class="role">{{ element.role }}</div> -->
            <mat-radio-group [formControlName]="'admin_role' + element.id">
              <mat-radio-button value="admin" class="role-button"
                >Admin</mat-radio-button
              >
              <mat-radio-button value="user" class="role-button"
                >User</mat-radio-button
              >
              <mat-radio-button value="owner">Owner</mat-radio-button>
            </mat-radio-group>
            <a mat-icon-button *ngIf="element.role != 'owner'">
              <mat-icon (click)="saveRole(element)">save</mat-icon>
            </a>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>
    </form>
  </div>
</div>
